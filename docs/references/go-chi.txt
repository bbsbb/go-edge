# Chi Router Reference
# Source: github.com/go-chi/chi/v5
# 100% compatible with net/http

## Router Methods

Get(pattern string, h http.HandlerFunc)
Post(pattern string, h http.HandlerFunc)
Put(pattern string, h http.HandlerFunc)
Delete(pattern string, h http.HandlerFunc)
Patch(pattern string, h http.HandlerFunc)
Head(pattern string, h http.HandlerFunc)
Options(pattern string, h http.HandlerFunc)

Handle(pattern string, h http.Handler)          # all methods
HandleFunc(pattern string, h http.HandlerFunc)   # all methods
Method(method, pattern string, h http.Handler)   # specific method
MethodFunc(method, pattern string, h http.HandlerFunc)

## Routing Organization

Route(pattern string, fn func(r Router)) Router  # sub-router on pattern
Group(fn func(r Router)) Router                   # inline router, fresh middleware stack
Mount(pattern string, h http.Handler)             # attach handler on pattern/*
With(middlewares ...func(http.Handler) http.Handler) Router  # inline middleware

## URL Parameters

# Route definition: /users/{userID}/posts/{postID}
# Wildcard: /files/*

chi.URLParam(r, "userID")   # extract named param
chi.URLParam(r, "*")        # extract wildcard

## Middleware

Use(middlewares ...func(http.Handler) http.Handler)  # append to stack

# Signature: func(next http.Handler) http.Handler

# Built-in middleware:
# Logger          - logs request start/end with duration
# RequestID       - injects X-Request-Id into context
# RealIP          - sets RemoteAddr from X-Real-IP / X-Forwarded-For
# Recoverer       - absorbs panics, prints stack trace
# Timeout         - signals context on deadline
# Compress        - gzip for compatible clients
# AllowContentType - whitelist Content-Types
# StripSlashes    - normalize trailing slashes
# CleanPath       - remove double slashes
# NoCache         - prevent client caching
# GetHead         - route HEAD to GET handlers

## Custom Handlers

NotFound(h http.HandlerFunc)
MethodNotAllowed(h http.HandlerFunc)

## Example

r := chi.NewRouter()
r.Use(middleware.Logger)
r.Use(middleware.Recoverer)

r.Get("/", func(w http.ResponseWriter, r *http.Request) {
    w.Write([]byte("hello"))
})

r.Route("/users", func(r chi.Router) {
    r.Get("/", listUsers)
    r.Post("/", createUser)
    r.Route("/{userID}", func(r chi.Router) {
        r.Get("/", getUser)
        r.Put("/", updateUser)
        r.Delete("/", deleteUser)
    })
})
